(this["webpackJsonptask_1.2.13"]=this["webpackJsonptask_1.2.13"]||[]).push([[0],{39:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(15),i=n.n(a),o=n(9),r=n(10),l=n(8),d=n(14),u=n(12),j=n(41),b="DELETE-TASK",m="ONLABEL-CLICK",h="CLEAR-COMPLETED-ITEMS",p="ADD-TASK",k="EDIT-TASK",x="TYPE_CHANGE_TIME_TASK",f={tasks:[{text:"Completed task",time:Date.now(),id:1,completed:"",dateNow:null},{text:"Editing task",time:Date.now(),id:2,completed:"",dateNow:null},{text:"Active task",time:Date.now(),id:3,completed:"",dateNow:null}],itemsLeft:3},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=Object(l.a)({},e),c=e.tasks;switch(t.type){case p:var s=e.tasks.length+1,a={text:t.text,id:s,completed:"",time:Date.now(),dateNow:null};n.tasks=Object(u.a)(c),n.tasks.push(a);var i=n.tasks.filter((function(e){return" completed"!==e.completed}));return{tasks:n.tasks,itemsLeft:i.length};case b:var o=c.filter((function(e){return e.id!==t.task.id}));n.tasks=Object(u.a)(o);var r=n.tasks.filter((function(e){return" completed"!==e.completed}));return{tasks:n.tasks,itemsLeft:r.length};case m:var d=n.tasks.filter((function(e){return" completed"!==e.completed}));return{tasks:n.tasks,itemsLeft:d.length};case h:var O=c.filter((function(e){return" completed"!==e.completed}));return n.tasks=Object(u.a)(O),{tasks:n.tasks,itemsLeft:n.tasks.length};case k:var v=c.map((function(e){return e.id===t.text.id.item.id?Object(l.a)(Object(l.a)({},e),{},{text:t.text.text}):e}));return n.tasks=Object(u.a)(v),{tasks:n.tasks,itemsLeft:n.tasks.length};case x:var C=c.map((function(e){return e.time?Object(l.a)(Object(l.a)({},e),{},{dateNow:Object(j.a)(e.time,{addSuffix:!0})}):e}));return n.tasks=Object(u.a)(C),{tasks:n.tasks,itemsLeft:n.tasks.length};default:return e}},v=n(3),C=n(20),L=n(21),y=n(24),N=n(23),g=n(1),E=function(e){Object(y.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(C.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={editMode:!1,text:Object(l.a)({},e.props),id:Object(l.a)({},e.props),checkbox:!1,dateNow:Object(l.a)({},e.props)},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(t){var n=e.props.onEditItem;"Enter"===t.key&&(e.setState({editMode:!1}),n(e.state))},e.onTextChange=function(t){e.setState({text:t.currentTarget.value})},e.activateCheckBox=function(){var t=e.props,n=t.onLabelClicked,c=t.item;e.setState({checkbox:!0}),c.completed=" completed",n(c)},e.deactivateCheckBox=function(){var t=e.props,n=t.onLabelClicked,c=t.item;e.setState({checkbox:!1}),c.completed=" ",n(c)},e}return Object(L.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){var e=this.props.onChangeTime;this.setState({dateNow:e()}),e()}},{key:"render",value:function(){var e=this.props,t=e.onDeleteItem,n=e.item,c=n.completed,s=n.id,a=n.dateNow,i=n.text,o=this.state,r=o.editMode,l=o.checkbox;return Object(g.jsxs)("li",{className:c,children:[!r&&Object(g.jsxs)("div",{className:"view",children:[!l&&Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{className:"toggle",type:"checkbox",defaultChecked:!1,onClick:this.activateCheckBox}),Object(g.jsxs)("label",{children:[Object(g.jsx)("span",{className:"description",onClick:this.activateCheckBox,role:"presentation",children:i}),Object(g.jsxs)("span",{className:"created",children:["created ",a]})]})]}),l&&Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{className:"toggle",type:"checkbox",defaultChecked:!0,onClick:this.deactivateCheckBox}),Object(g.jsxs)("label",{children:[Object(g.jsx)("span",{className:"description",role:"presentation",onClick:this.deactivateCheckBox,children:i}),Object(g.jsxs)("span",{className:"created",children:["created ",a]})]})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"button",className:"icon icon-edit",onClick:this.activateEditMode,"aria-label":"edit-btn"})}),Object(g.jsx)("button",{type:"button",className:"icon icon-destroy",onClick:function(){t(n)},"aria-label":"destroy-btn"})]}),r&&Object(g.jsx)("div",{children:Object(g.jsx)("input",{className:"new-todo",placeholder:"Edit your message",onKeyPress:this.deactivateEditMode,onChange:this.onTextChange})})]},s)}}]),n}(s.a.Component),w=E,I=function(e){var t=e.onDeleteItem,n=e.onLabelClicked,c=e.onEditItem,s=e.onChangeTime,a=e.tasks,i=a.map((function(e){return" completed"!==e.completed?Object(g.jsx)(v.a,{exact:!0,path:"/active",render:function(){return Object(g.jsx)(w,{item:e,onDeleteItem:t,onLabelClicked:n,onEditItem:c,onChangeTime:s})}}):Object(g.jsx)(v.a,{exact:!0,path:"/completed",render:function(){return Object(g.jsx)(w,{item:e,onDeleteItem:t,onLabelClicked:n,onEditItem:c,onChangeTime:s})}})})),o=a.map((function(e){return Object(g.jsx)(v.a,{exact:!0,path:"/all",render:function(){return Object(g.jsx)(w,{item:e,onDeleteItem:t,onLabelClicked:n,onEditItem:c,onChangeTime:s})}})}));return Object(g.jsxs)("ul",{className:"todo-list",children:[o,i]})},T=Object(d.b)(Object(o.b)((function(e){return{tasks:e.taskListReducer.tasks,itemsLeft:e.taskListReducer.itemsLeft}}),(function(e){return{onEditItem:function(t){e({text:t,type:k})},onDeleteItem:function(t){e({task:t,type:b})},onLabelClicked:function(t){e({task:t,type:m})},onChangeTime:function(t){e({type:x})}}})))((function(e){return Object(g.jsx)(I,Object(l.a)({},e))})),D=function(e){var t=e.newItem,n=e.handleKeyPress;return Object(g.jsxs)("header",{className:"header",children:[Object(g.jsx)("h1",{children:"todos"}),Object(g.jsx)("input",{className:"new-todo",placeholder:"What needs to be done?",ref:t,onKeyPress:n})]})},M=s.a.createRef(),S=Object(o.b)((function(e){return{tasks:e.taskListReducer.tasks,itemsLeft:e.taskListReducer.itemsLeft}}),(function(e){return{newItem:M,handleKeyPress:function(t){if("Enter"===t.key){var n=M.current.value;e(function(e){return{text:e,type:p}}(n)),M.current.value=""}}}}))(D),A=function(){return Object(g.jsxs)("ul",{className:"filters",children:[Object(g.jsx)(r.b,{exact:!0,to:"/all",children:Object(g.jsx)("li",{children:Object(g.jsx)("button",{className:"selected",type:"button",children:"All"})})}),Object(g.jsx)(r.b,{to:"/active",children:Object(g.jsx)("li",{children:Object(g.jsx)("button",{type:"button",children:"active"})})}),Object(g.jsx)(r.b,{to:"/completed",children:Object(g.jsx)("li",{children:Object(g.jsx)("button",{type:"button",children:"completed"})})})]})},K=function(e){var t=e.itemsLeft,n=e.clearCompleted;return Object(g.jsxs)("footer",{className:"footer",children:[Object(g.jsxs)("span",{className:"todo-count",children:[t," items left"]}),Object(g.jsx)(A,{}),Object(g.jsx)("button",{className:"clear-completed",onClick:n,type:"button",children:"Clear completed"})]})},B=Object(o.b)((function(e){return{itemsLeft:e.taskListReducer.itemsLeft}}),(function(e){return{clearCompleted:function(){var t;e({tasks:t,type:h})}}}))(K),R=function(){return Object(g.jsxs)("section",{className:"todoapp",children:[Object(g.jsx)(S,{}),Object(g.jsxs)("section",{className:"main",children:[Object(g.jsx)(T,{}),Object(g.jsx)(B,{})]})]})},P=Object(d.a)({taskListReducer:O}),_=Object(d.c)(P);window.store=_;var J=_;i.a.render(Object(g.jsx)(r.a,{children:Object(g.jsx)(o.a,{store:J,children:Object(g.jsx)(R,{})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.cc478a48.chunk.js.map